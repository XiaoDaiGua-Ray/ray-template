import{a as p}from"./axios.754b77ca.js";import{C as i,M as c,q as d,H as m,F as y,R as h,E}from"./naive-ui.b5bbe967.js";import{e as D,E as f,h as C,M as w,ao as t,c as b}from"./@vue.6f9b3ecc.js";import"./form-data.2b153385.js";import"./date-fns.03faffa8.js";import"./vueuc.feb70412.js";import"./evtd.9eee5233.js";import"./seemly.786de437.js";import"./@css-render.66179467.js";import"./vooks.d8957d1b.js";import"./vdirs.9b78243b.js";import"./@juggle.32c34d6c.js";import"./css-render.20ab466e.js";import"./@emotion.6322e2ae.js";import"./lodash-es.16993470.js";import"./treemate.80cdf2c2.js";import"./date-fns-tz.974adeb4.js";import"./async-validator.fb49d0f5.js";const F=(e,a)=>{const s=e.headers;a.forEach(u=>{s[u.key]=u.value})},o=p.create({baseURL:"",withCredentials:!1,timeout:5*1e3});o.interceptors.request.use(e=>(F(e,[{key:"X-TOKEN",value:"token"}]),e),e=>Promise.reject(e));o.interceptors.response.use(e=>{const{data:a}=e;return Promise.resolve(a)},e=>Promise.reject(e));let r;const v=e=>{r&&r.abort(),r=new AbortController;const a=Object.assign({},e,{signal:r.signal});return o(a)},n=async e=>v({method:"get",url:`https://www.tianqiapi.com/api?version=v9&appid=23035354&appsecret=8YvlPNrz&city=${e}`}),U=D({name:"Axios",setup(){const e=f({weatherData:[],inputCityValue:""}),a=[{title:"\u7A7A\u6C14\u6307\u6570",key:"air"},{title:"\u98CE\u901F",key:"win_meter"},{title:"\u80FD\u89C1\u5EA6",key:"visibility"},{title:"\u5929\u6C14\u60C5\u51B5",key:"wea_day"},{title:"\u63D0\u793A",key:"air_tips"}],s=async u=>{const l=await n(u);e.weatherData=l.data};return C(async()=>{const u=await n("\u6210\u90FD");e.weatherData=u.data}),{...w(e),columns:a,handleInputCityValue:s}},render(){return t(E,null,{default:()=>[t(i,{bordered:!0},{default:()=>[t(c,{title:"\u8BF7\u6C42\u51FD\u6570"},{default:()=>[b("\u57FA\u4E8E axios \u5C01\u88C5, \u80FD\u591F\u81EA\u52A8\u53D6\u6D88\u8FDE\u7EED\u8BF7\u6C42, \u907F\u514D\u91CD\u590D\u6E32\u67D3\u9020\u6210\u95EE\u9898. \u53EF\u5728\u8BE5\u793A\u4F8B\u4E2D\u6D4B\u8BD5, \u5E76\u4E14\u6253\u5F00\u63A7\u5236\u53F0\u7684\u7F51\u7EDC\u9009\u9879\u5361\u67E5\u770B")]})]}),t(i,{bordered:!0},{default:()=>[t(d,{class:"axios-header__btn",align:"center",justify:"space-between"},{default:()=>[t(m,{value:this.inputCityValue,"onUpdate:value":e=>this.inputCityValue=e,onInput:this.handleInputCityValue.bind(this),placeholder:"\u8BF7\u8F93\u5165\u57CE\u5E02"},null)]})]}),t(y,null,{default:()=>[t(h,{data:this.weatherData,columns:this.columns},null)]})]})}});export{U as default};
