import{b7 as r,a7 as b,f as E,r as D,t as O,h as i,ar as h,u as F,aD as o,b8 as a,b9 as f,a5 as m,n as B}from"./.pnpm-8379147f.js";const l=(t,u,e)=>t!=null&&t.length?t.length===1?r(t[0]):t.reduce((n,d,c,p)=>(n=e==null?void 0:e(n,d,c,p),n),u):0,C=(t,u,e="number")=>e==="number"?r(t,u).value:r(t,u).toString(),V=(...t)=>l(t,0,(u,e)=>r(u).add(e)),y=(...t)=>{if(t.length===2){const[s,n]=t;return r(s).subtract(n)}const u=b(t),e=u.shift();return u.length?l(u,e,(s,n)=>r(s).subtract(n)):e},v=(...t)=>l(t,1,(u,e)=>r(u).multiply(e)),A=(...t)=>{if(t.length===2){const[s,n]=t;return r(s).divide(n)}const u=b(t),e=u.shift();return u.length?l(u,e,(s,n)=>r(s).divide(n)):e},U=(t,u,e)=>u<=1?[t||0]:t?r(t,e).distribute(u).map(n=>C(n,e)):new Array(u).fill(0),N=E({name:"CalculatePrecision",setup(){const t=D({addOptions:["1","0.2","0.1","1.1"],subtractOptions:["1","0.2","0.1","1.1"],multiplyOptions:["1","0.2","0.1","1.1"],divideOptions:["1","0.2","0.1","1.1"],distributeValue:12,distributeOutputValue:[],distributeLength:3}),u={addOptions:V,subtractOptions:y,multiplyOptions:v,divideOptions:A},e=(n,d)=>{const c=u[d],p=c(...n);return"结果: "+C(p)},s=()=>{B().then(()=>{t.distributeOutputValue=U(t.distributeValue,t.distributeLength)})};return s(),{...O(t),copilotFunc:e,updateDistributeValue:s}},render(){return i(m,null,{default:()=>[i("h2",{style:"margin: 0 0 20px 0"},[h("计算方法，默认都保留两位小数与四舍五入，可以根据 format 方法自行转换")]),i("h3",{style:"margin: 0 0 20px 0"},[h("示例方法都基于 currency.js 封装，利用其精度处理能力封装了常用的一些计算方法，解决精度问题。如果需要其他的方法请阅读官方文档 https://currency.js.org/#subtract")]),i(F,{vertical:!0},{default:()=>[i(o,{title:"加法"},{default:()=>i(a,{value:this.addOptions,"onUpdate:value":t=>this.addOptions=t,onUpdateValue:t=>{this.copilotFunc(t,"addOptions")}},null),footer:()=>this.copilotFunc(this.addOptions,"addOptions")}),i(o,{title:"减法"},{default:()=>i(a,{value:this.subtractOptions,"onUpdate:value":t=>this.subtractOptions=t,onUpdateValue:t=>{this.copilotFunc(t,"subtractOptions")}},null),footer:()=>this.copilotFunc(this.subtractOptions,"subtractOptions")}),i(o,{title:"乘法"},{default:()=>i(a,{value:this.multiplyOptions,"onUpdate:value":t=>this.multiplyOptions=t,onUpdateValue:t=>{this.copilotFunc(t,"multiplyOptions")}},null),footer:()=>this.copilotFunc(this.multiplyOptions,"multiplyOptions")}),i(o,{title:"除法（非取模）"},{default:()=>i(a,{value:this.divideOptions,"onUpdate:value":t=>this.divideOptions=t,onUpdateValue:t=>{this.copilotFunc(t,"divideOptions")}},null),footer:()=>this.copilotFunc(this.divideOptions,"divideOptions")}),i(o,{title:"平分一个值"},{default:()=>i(F,{wrapItem:!1},{default:()=>[i(f,{value:this.distributeValue,"onUpdate:value":t=>this.distributeValue=t,onUpdateValue:()=>{this.updateDistributeValue()}},null),i(f,{value:this.distributeLength,"onUpdate:value":t=>this.distributeLength=t,onUpdateValue:()=>{this.updateDistributeValue()}},null)]}),footer:()=>"结果: "+this.distributeOutputValue.join(", ")})]})]})}});export{N as default};
