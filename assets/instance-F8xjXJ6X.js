import{z as t,B as n,o as R,C as q}from"./hooks-WhZaEspJ.js";import{g as d}from"./utils-TzEisWGD.js";import"./awesome-qr@2.1.5-rc.0-UnPo3EFD.js";import"./vue-hooks-plus@1.8.5_vue@3.4.14-UGgZVZ2w.js";import"./lodash@4.17.21-yUHHMES2.js";import"./js-cookie@3.0.5-bc0KQLgp.js";import"./screenfull@5.2.0-q9gEF-YC.js";import"./qs@6.11.2-wwOruwhc.js";import"./dayjs@1.11.10-A-QuG2Ol.js";import"./print-js@1.6.0-gYKv6oGQ.js";import"./currency.js@2.0.4--or6eeOG.js";const A=(e,r)=>{t.removePendingRequest(e.config)},y=(e,r)=>{t.removePendingRequest(e.config)},p={implementResponseInterceptorArray:[A],implementResponseInterceptorErrorArray:[y]},{setImplement:m}=n(),E=()=>{const{implementResponseInterceptorArray:e}=p;m("implementResponseInterceptorArray",e,"ok")},g=()=>{const{implementResponseInterceptorErrorArray:e}=p;m("implementResponseInterceptorErrorArray",e,"error")},k=(e,r)=>{if(e){const o=e.headers;r.forEach(s=>{o[s.key]=s.value})}},P=(e,r)=>{const o=d(R.token);return e.url,{key:"X-TOKEN",value:o}},f=(e,r)=>{k(e,[P(e),{key:"Demo-Header-Key",value:"Demo Header Value"}])},v=(e,r)=>{t.removePendingRequest(e),t.addPendingRequest(e)},C=(e,r)=>{t.removePendingRequest(e)},c={implementRequestInterceptorArray:[f,v],implementRequestInterceptorErrorArray:[C]},{setImplement:a}=n(),H=()=>{const{implementRequestInterceptorArray:e}=c;a("implementRequestInterceptorArray",e,"ok")},j=()=>{const{implementRequestInterceptorErrorArray:e}=c;a("implementRequestInterceptorErrorArray",e,"error")},i=axios.create(q),{createAxiosInstance:u,beforeFetch:l,fetchError:I}=n();i.interceptors.request.use(e=>(u(e,"requestInstance"),H(),l("requestInstance","implementRequestInterceptorArray","ok"),e),e=>(j(),I("requestError",e,"implementRequestInterceptorErrorArray"),Promise.reject(e)));i.interceptors.response.use(e=>{u(e,"responseInstance"),E(),l("responseInstance","implementResponseInterceptorArray","ok");const{data:r}=e;return Promise.resolve(r)},e=>(g(),I("responseError",e,"implementResponseInterceptorErrorArray"),Promise.reject(e)));export{i as s};
