import{k as t,l as o,m as R,A as d}from"./index-ea5f0cc8.js";const q={baseURL:"",withCredentials:!1,timeout:5*1e3,headers:{"Content-Type":"application/json"}},A=(e,r)=>{t.removePendingRequest(e.config)},y=(e,r)=>{t.removePendingRequest(e.config)},p={implementResponseInterceptorArray:[A],implementResponseInterceptorErrorArray:[y]},{setImplement:c}=o(),E=()=>{const{implementResponseInterceptorArray:e}=p;c("implementResponseInterceptorArray",e,"ok")},k=()=>{const{implementResponseInterceptorErrorArray:e}=p;c("implementResponseInterceptorErrorArray",e,"error")},C=(e,r)=>{if(e){const n=e.headers;r.forEach(s=>{n[s.key]=s.value})}},P=(e,r)=>{const n=R(d.token);return e.url,{key:"X-TOKEN",value:n}},f=(e,r)=>{C(e,[P(e),{key:"Demo-Header-Key",value:"Demo Header Value"}])},g=(e,r)=>{t.removePendingRequest(e),t.addPendingRequest(e)},v=(e,r)=>{t.removePendingRequest(e)},m={implementRequestInterceptorArray:[f,g],implementRequestInterceptorErrorArray:[v]},{setImplement:a}=o(),H=()=>{const{implementRequestInterceptorArray:e}=m;a("implementRequestInterceptorArray",e,"ok")},h=()=>{const{implementRequestInterceptorErrorArray:e}=m;a("implementRequestInterceptorErrorArray",e,"error")},i=axios.create(q),{createAxiosInstance:u,beforeFetch:l,fetchError:I}=o();i.interceptors.request.use(e=>(u(e,"requestInstance"),H(),l("requestInstance","implementRequestInterceptorArray","ok"),e),e=>(h(),I("requestError",e,"implementRequestInterceptorErrorArray"),Promise.reject(e)));i.interceptors.response.use(e=>{u(e,"responseInstance"),E(),l("responseInstance","implementResponseInterceptorArray","ok");const{data:r}=e;return Promise.resolve(r)},e=>(k(),I("responseError",e,"implementResponseInterceptorErrorArray"),Promise.reject(e)));export{i as s};
