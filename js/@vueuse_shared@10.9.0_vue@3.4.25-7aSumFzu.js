function P(e){return VueDemi.getCurrentScope()?(VueDemi.onScopeDispose(e),!0):!1}function g(e){return typeof e=="function"?e():VueDemi.unref(e)}const b=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const x=e=>e!=null,y=Object.prototype.toString,k=e=>y.call(e)==="[object Object]",w=()=>{},C=O();function O(){var e,t;return b&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function F(e,t){function n(...i){return new Promise((o,u)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(o).catch(u)})}return n}const h=e=>e();function S(...e){let t=0,n,i=!0,o=w,u,r,a,s,c;!VueDemi.isRef(e[0])&&typeof e[0]=="object"?{delay:r,trailing:a=!0,leading:s=!0,rejectOnCancel:c=!1}=e[0]:[r,a=!0,s=!0,c=!1]=e;const f=()=>{n&&(clearTimeout(n),n=void 0,o(),o=w)};return D=>{const l=g(r),p=Date.now()-t,d=()=>u=D();return f(),l<=0?(t=Date.now(),d()):(p>l&&(s||!i)?(t=Date.now(),d()):a&&(u=new Promise((m,V)=>{o=c?V:m,n=setTimeout(()=>{t=Date.now(),i=!0,m(d()),f()},Math.max(0,l-p))})),!s&&!n&&(n=setTimeout(()=>i=!0,l)),i=!1,u)}}function T(e=h){const t=VueDemi.ref(!0);function n(){t.value=!1}function i(){t.value=!0}const o=(...u)=>{t.value&&e(...u)};return{isActive:VueDemi.readonly(t),pause:n,resume:i,eventFilter:o}}VueDemi.isVue3,VueDemi.isVue3,VueDemi.isVue3;function j(e){return e||VueDemi.getCurrentInstance()}function v(e,t,n={}){const{eventFilter:i=h,...o}=n;return VueDemi.watch(e,F(i,t),o)}function I(e,t,n={}){const{eventFilter:i,...o}=n,{eventFilter:u,pause:r,resume:a,isActive:s}=T(i);return{stop:v(e,t,{...o,eventFilter:u}),pause:r,resume:a,isActive:s}}function M(e,t=!0,n){j()?VueDemi.onMounted(e,n):t?e():VueDemi.nextTick(e)}function W(e,t,n){const i=VueDemi.watch(e,(...o)=>(VueDemi.nextTick(()=>i()),t(...o)),n);return i}function G(e,t,n={}){const{throttle:i=0,trailing:o=!0,leading:u=!0,...r}=n;return v(e,t,{...r,eventFilter:S(i,o,u)})}export{P as a,M as b,b as c,x as d,C as e,W as f,G as g,k as i,w as n,g as t,I as w};
