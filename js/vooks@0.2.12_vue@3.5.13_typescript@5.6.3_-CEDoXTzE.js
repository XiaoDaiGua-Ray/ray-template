import{k as c,l as d,e as j}from"./@vue_reactivity@3.5.13-CjJL8SnF.js";import{w as C,f as k,d as q,k as S,v as b,t as T}from"./@vue_runtime-core@3.5.13-BsGyjLIk.js";import{o as m,a as p}from"./evtd@0.2.4-CI_DDEu_.js";function K(e){const n=c(!!e.value);if(n.value)return d(n);const t=C(e,i=>{i&&(n.value=!0,t())});return d(n)}function Q(e){const n=k(e),t=c(n.value);return C(n,i=>{t.value=i}),typeof e=="function"?t:{__v_isRef:!0,get value(){return t.value},set value(i){e.set(i)}}}function B(){return q()!==null}const E=typeof window<"u";let w,y;const D=()=>{var e,n;w=E?(n=(e=document)===null||e===void 0?void 0:e.fonts)===null||n===void 0?void 0:n.ready:void 0,y=!1,w!==void 0?w.then(()=>{y=!0}):y=!0};D();function z(e){if(y)return;let n=!1;S(()=>{y||w==null||w.then(()=>{n||e()})}),b(()=>{n=!0})}const v=c(null);function I(e){if(e.clientX>0||e.clientY>0)v.value={x:e.clientX,y:e.clientY};else{const{target:n}=e;if(n instanceof Element){const{left:t,top:i,width:o,height:u}=n.getBoundingClientRect();t>0||i>0?v.value={x:t+o/2,y:i+u/2}:v.value={x:0,y:0}}else v.value=null}}let g=0,_=!0;function A(){if(!E)return d(c(null));g===0&&m("click",document,I,!0);const e=()=>{g+=1};return _&&(_=B())?(T(e),b(()=>{g-=1,g===0&&p("click",document,I,!0)})):e(),d(v)}const F=c(void 0);let M=0;function H(){F.value=Date.now()}let L=!0;function G(e){if(!E)return d(c(!1));const n=c(!1);let t=null;function i(){t!==null&&window.clearTimeout(t)}function o(){i(),n.value=!0,t=window.setTimeout(()=>{n.value=!1},e)}M===0&&m("click",window,H,!0);const u=()=>{M+=1,m("click",window,o,!0)};return L&&(L=B())?(T(u),b(()=>{M-=1,M===0&&p("click",window,H,!0),p("click",window,o,!0),i()})):u(),d(n)}function J(e,n){return C(e,t=>{t!==void 0&&(n.value=t)}),k(()=>e.value===void 0?n.value:e.value)}function O(){const e=c(!1);return S(()=>{e.value=!0}),d(e)}function W(e,n){return k(()=>{for(const t of n)if(e[t]!==void 0)return e[t];return e[n[n.length-1]]})}const R=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function Z(){return R}const $={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function U(e){return`(min-width: ${e}px)`}const h={};function N(e=$){if(!E)return k(()=>[]);if(typeof window.matchMedia!="function")return k(()=>[]);const n=c({}),t=Object.keys(e),i=(o,u)=>{o.matches?n.value[u]=!0:n.value[u]=!1};return t.forEach(o=>{const u=e[o];let s,f;h[u]===void 0?(s=window.matchMedia(U(u)),s.addEventListener?s.addEventListener("change",a=>{f.forEach(r=>{r(a,o)})}):s.addListener&&s.addListener(a=>{f.forEach(r=>{r(a,o)})}),f=new Set,h[u]={mql:s,cbs:f}):(s=h[u].mql,f=h[u].cbs),f.add(i),s.matches&&f.forEach(a=>{a(s,o)})}),b(()=>{t.forEach(o=>{const{cbs:u}=h[e[o]];u.has(i)&&u.delete(i)})}),k(()=>{const{value:o}=n;return t.filter(u=>o[u])})}function ee(e={},n){const t=j({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:i,keyup:o}=e,u=a=>{switch(a.key){case"Control":t.ctrl=!0;break;case"Meta":t.command=!0,t.win=!0;break;case"Shift":t.shift=!0;break;case"Tab":t.tab=!0;break}i!==void 0&&Object.keys(i).forEach(r=>{if(r!==a.key)return;const l=i[r];if(typeof l=="function")l(a);else{const{stop:x=!1,prevent:P=!1}=l;x&&a.stopPropagation(),P&&a.preventDefault(),l.handler(a)}})},s=a=>{switch(a.key){case"Control":t.ctrl=!1;break;case"Meta":t.command=!1,t.win=!1;break;case"Shift":t.shift=!1;break;case"Tab":t.tab=!1;break}o!==void 0&&Object.keys(o).forEach(r=>{if(r!==a.key)return;const l=o[r];if(typeof l=="function")l(a);else{const{stop:x=!1,prevent:P=!1}=l;x&&a.stopPropagation(),P&&a.preventDefault(),l.handler(a)}})},f=()=>{(n===void 0||n.value)&&(m("keydown",document,u),m("keyup",document,s)),n!==void 0&&C(n,a=>{a?(m("keydown",document,u),m("keyup",document,s)):(p("keydown",document,u),p("keyup",document,s))})};return B()?(T(f),b(()=>{(n===void 0||n.value)&&(p("keydown",document,u),p("keyup",document,s))})):f(),d(t)}export{Z as a,J as b,W as c,ee as d,G as e,A as f,N as g,K as h,O as i,z as o,Q as u};
