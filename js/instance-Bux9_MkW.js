import{a0 as t,k as R,a1 as n,a2 as q}from"./hooks-MEhk8snd.js";import"./dayjs@1.11.13-DqFijdaO.js";import"./print-js@1.6.0-jNcZ-gME.js";import"./vue-hooks-plus@2.4.1_vue@3.5.25_typescript@5.9.3_-CTUohtp4.js";import"./js-cookie@3.0.5-W_rRtFe1.js";import"./screenfull@5.2.0-wmrknyQD.js";import"./jsbarcode@3.11.6-DMXogPYv.js";import"./@logicflow_core@2.0.10-BJ3yfRtr.js";import"./mobx-preact@3.0.0_mobx@5.15.7_preact@10.25.4-CY9_LSXq.js";import"./preact@10.25.4-HyjdtmFg.js";import{g as d}from"./utils-DJW6-rvp.js";import"./currency.js@2.0.4-BSkspdt3.js";import"./crypto-js@4.2.0-Bv3pmx0c.js";import{a as y}from"./axios@1.10.0-CIcuZHni.js";const A=(e,r)=>{t.removePendingRequest(e),t.addPendingRequest(e)},E=(e,r)=>{t.removePendingRequest(e)},k=(e,r)=>{if(e){const o=e.headers;r.forEach(s=>{o[s.key]=s.value})}},P=(e,r)=>{const o=d(R.token,"localStorage");return e.url,{key:"X-TOKEN",value:o}},g=(e,r)=>{k(e,[P(e),{key:"Demo-Header-Key",value:"Demo Header Value"}])},p={implementRequestInterceptorArray:[g,A],implementRequestInterceptorErrorArray:[E]},{setImplement:m}=n(),v=()=>{const{implementRequestInterceptorArray:e}=p;m("implementRequestInterceptorArray",e,"ok")},f=()=>{const{implementRequestInterceptorErrorArray:e}=p;m("implementRequestInterceptorErrorArray",e,"error")},C=(e,r)=>{t.removePendingRequest(e)},H=(e,r)=>{t.removePendingRequest(e)},c={implementResponseInterceptorArray:[C],implementResponseInterceptorErrorArray:[H]},{setImplement:a}=n(),j=()=>{const{implementResponseInterceptorArray:e}=c;a("implementResponseInterceptorArray",e,"ok")},x=()=>{const{implementResponseInterceptorErrorArray:e}=c;a("implementResponseInterceptorErrorArray",e,"error")},i=y.create(q),{createAxiosInstance:u,beforeFetch:l,fetchError:I}=n();i.interceptors.request.use(e=>(u(e,"requestInstance"),v(),l("requestInstance","implementRequestInterceptorArray","ok"),e),e=>(f(),I("requestError",e,"implementRequestInterceptorErrorArray"),Promise.reject(e)));i.interceptors.response.use(e=>{u(e,"responseInstance"),j(),l("responseInstance","implementResponseInterceptorArray","ok");const{data:r}=e;return Promise.resolve(r)},e=>(x(),I("responseError",e,"implementResponseInterceptorErrorArray"),Promise.reject(e)));export{i as s};
