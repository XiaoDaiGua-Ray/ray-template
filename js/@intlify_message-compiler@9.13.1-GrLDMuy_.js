/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function me(r,n,u){return{line:r,column:n,offset:u}}function B(r,n,u){return{start:r,end:n}}const ye=/\{([0-9a-zA-Z]+)\}/g;function se(r,...n){return n.length===1&&be(n[0])&&(n=n[0]),(!n||!n.hasOwnProperty)&&(n={}),r.replace(ye,(u,l)=>n.hasOwnProperty(l)?n[l]:"")}const ue=Object.assign,te=r=>typeof r=="string",be=r=>r!==null&&typeof r=="object";function ce(r,n=""){return r.reduce((u,l,N)=>N===0?u+l:u+n+l,"")}const ae={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Ue={[ae.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Re(r,n,...u){const l=se(Ue[r],...u||[]),N={message:String(l),code:r};return n&&(N.location=n),N}const L={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Me={[L.EXPECTED_TOKEN]:"Expected token: '{0}'",[L.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[L.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[L.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[L.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[L.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[L.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[L.EMPTY_PLACEHOLDER]:"Empty placeholder",[L.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[L.INVALID_LINKED_FORMAT]:"Invalid linked format",[L.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[L.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[L.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[L.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[L.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[L.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function V(r,n,u={}){const{domain:l,messages:N,args:f}=u,C=se((N||Me)[r]||"",...f||[]),_=new SyntaxError(String(C));return _.code=r,n&&(_.location=n),_.domain=l,_}function nt(r){throw r}const g=" ",ve="\r",m=`
`,Xe="\u2028",we="\u2029";function Ye(r){const n=r;let u=0,l=1,N=1,f=0;const C=o=>n[o]===ve&&n[o+1]===m,_=o=>n[o]===m,I=o=>n[o]===we,U=o=>n[o]===Xe,y=o=>C(o)||_(o)||I(o)||U(o),T=()=>u,A=()=>l,R=()=>N,X=()=>f,D=o=>C(o)||I(o)||U(o)?m:n[o],h=()=>D(u),b=()=>D(u+f);function w(){return f=0,y(u)&&(l++,N=0),C(u)&&u++,u++,N++,n[u]}function s(){return C(u+f)&&f++,f++,n[u+f]}function a(){u=0,l=1,N=1,f=0}function d(o=0){f=o}function c(){const o=u+f;for(;o!==u;)w();f=0}return{index:T,line:A,column:R,peekOffset:X,charAt:D,currentChar:h,currentPeek:b,next:w,peek:s,reset:a,resetPeek:d,skipToPeek:c}}const H=void 0,ge=".",ne="'",Ke="tokenizer";function He(r,n={}){const u=n.location!==!1,l=Ye(r),N=()=>l.index(),f=()=>me(l.line(),l.column(),l.index()),C=f(),_=N(),I={currentType:14,offset:_,startLoc:C,endLoc:C,lastType:14,lastOffset:_,lastStartLoc:C,lastEndLoc:C,braceNest:0,inLinked:!1,text:""},U=()=>I,{onError:y}=n;function T(e,t,i,...E){const k=U();if(t.column+=i,t.offset+=i,y){const S=u?B(k.startLoc,t):null,K=V(e,S,{domain:Ke,args:E});y(K)}}function A(e,t,i){e.endLoc=f(),e.currentType=t;const E={type:t};return u&&(E.loc=B(e.startLoc,e.endLoc)),i!=null&&(E.value=i),E}const R=e=>A(e,14);function X(e,t){return e.currentChar()===t?(e.next(),t):(T(L.EXPECTED_TOKEN,f(),0,t),"")}function D(e){let t="";for(;e.currentPeek()===g||e.currentPeek()===m;)t+=e.currentPeek(),e.peek();return t}function h(e){const t=D(e);return e.skipToPeek(),t}function b(e){if(e===H)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t===95}function w(e){if(e===H)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function s(e,t){const{currentType:i}=t;if(i!==2)return!1;D(e);const E=b(e.currentPeek());return e.resetPeek(),E}function a(e,t){const{currentType:i}=t;if(i!==2)return!1;D(e);const E=e.currentPeek()==="-"?e.peek():e.currentPeek(),k=w(E);return e.resetPeek(),k}function d(e,t){const{currentType:i}=t;if(i!==2)return!1;D(e);const E=e.currentPeek()===ne;return e.resetPeek(),E}function c(e,t){const{currentType:i}=t;if(i!==8)return!1;D(e);const E=e.currentPeek()===".";return e.resetPeek(),E}function o(e,t){const{currentType:i}=t;if(i!==9)return!1;D(e);const E=b(e.currentPeek());return e.resetPeek(),E}function p(e,t){const{currentType:i}=t;if(!(i===8||i===12))return!1;D(e);const E=e.currentPeek()===":";return e.resetPeek(),E}function P(e,t){const{currentType:i}=t;if(i!==10)return!1;const E=()=>{const S=e.currentPeek();return S==="{"?b(e.peek()):S==="@"||S==="%"||S==="|"||S===":"||S==="."||S===g||!S?!1:S===m?(e.peek(),E()):O(e,!1)},k=E();return e.resetPeek(),k}function M(e){D(e);const t=e.currentPeek()==="|";return e.resetPeek(),t}function W(e){const t=D(e),i=e.currentPeek()==="%"&&e.peek()==="{";return e.resetPeek(),{isModulo:i,hasSpace:t.length>0}}function O(e,t=!0){const i=(k=!1,S="",K=!1)=>{const x=e.currentPeek();return x==="{"?S==="%"?!1:k:x==="@"||!x?S==="%"?!0:k:x==="%"?(e.peek(),i(k,"%",!0)):x==="|"?S==="%"||K?!0:!(S===g||S===m):x===g?(e.peek(),i(!0,g,K)):x===m?(e.peek(),i(!0,m,K)):!0},E=i();return t&&e.resetPeek(),E}function Y(e,t){const i=e.currentChar();return i===H?H:t(i)?(e.next(),i):null}function oe(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||t===95||t===36}function le(e){return Y(e,oe)}function fe(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||t===95||t===36||t===45}function Ee(e){return Y(e,fe)}function de(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function Le(e){return Y(e,de)}function Ne(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function _e(e){return Y(e,Ne)}function Z(e){let t="",i="";for(;t=Le(e);)i+=t;return i}function pe(e){h(e);const t=e.currentChar();return t!=="%"&&T(L.EXPECTED_TOKEN,f(),0,t),e.next(),"%"}function z(e){let t="";for(;;){const i=e.currentChar();if(i==="{"||i==="}"||i==="@"||i==="|"||!i)break;if(i==="%")if(O(e))t+=i,e.next();else break;else if(i===g||i===m)if(O(e))t+=i,e.next();else{if(M(e))break;t+=i,e.next()}else t+=i,e.next()}return t}function he(e){h(e);let t="",i="";for(;t=Ee(e);)i+=t;return e.currentChar()===H&&T(L.UNTERMINATED_CLOSING_BRACE,f(),0),i}function Ce(e){h(e);let t="";return e.currentChar()==="-"?(e.next(),t+=`-${Z(e)}`):t+=Z(e),e.currentChar()===H&&T(L.UNTERMINATED_CLOSING_BRACE,f(),0),t}function Ie(e){return e!==ne&&e!==m}function Te(e){h(e),X(e,"'");let t="",i="";for(;t=Y(e,Ie);)t==="\\"?i+=Ae(e):i+=t;const E=e.currentChar();return E===m||E===H?(T(L.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,f(),0),E===m&&(e.next(),X(e,"'")),i):(X(e,"'"),i)}function Ae(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return ee(e,t,4);case"U":return ee(e,t,6);default:return T(L.UNKNOWN_ESCAPE_SEQUENCE,f(),0,t),""}}function ee(e,t,i){X(e,t);let E="";for(let k=0;k<i;k++){const S=_e(e);if(!S){T(L.INVALID_UNICODE_ESCAPE_SEQUENCE,f(),0,`\\${t}${E}${e.currentChar()}`);break}E+=S}return`\\${t}${E}`}function Se(e){return e!=="{"&&e!=="}"&&e!==g&&e!==m}function ke(e){h(e);let t="",i="";for(;t=Y(e,Se);)i+=t;return i}function Pe(e){let t="",i="";for(;t=le(e);)i+=t;return i}function Oe(e){const t=i=>{const E=e.currentChar();return E==="{"||E==="%"||E==="@"||E==="|"||E==="("||E===")"||!E||E===g?i:(i+=E,e.next(),t(i))};return t("")}function Q(e){h(e);const t=X(e,"|");return h(e),t}function q(e,t){let i=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&T(L.NOT_ALLOW_NEST_PLACEHOLDER,f(),0),e.next(),i=A(t,2,"{"),h(e),t.braceNest++,i;case"}":return t.braceNest>0&&t.currentType===2&&T(L.EMPTY_PLACEHOLDER,f(),0),e.next(),i=A(t,3,"}"),t.braceNest--,t.braceNest>0&&h(e),t.inLinked&&t.braceNest===0&&(t.inLinked=!1),i;case"@":return t.braceNest>0&&T(L.UNTERMINATED_CLOSING_BRACE,f(),0),i=F(e,t)||R(t),t.braceNest=0,i;default:{let k=!0,S=!0,K=!0;if(M(e))return t.braceNest>0&&T(L.UNTERMINATED_CLOSING_BRACE,f(),0),i=A(t,1,Q(e)),t.braceNest=0,t.inLinked=!1,i;if(t.braceNest>0&&(t.currentType===5||t.currentType===6||t.currentType===7))return T(L.UNTERMINATED_CLOSING_BRACE,f(),0),t.braceNest=0,j(e,t);if(k=s(e,t))return i=A(t,5,he(e)),h(e),i;if(S=a(e,t))return i=A(t,6,Ce(e)),h(e),i;if(K=d(e,t))return i=A(t,7,Te(e)),h(e),i;if(!k&&!S&&!K)return i=A(t,13,ke(e)),T(L.INVALID_TOKEN_IN_PLACEHOLDER,f(),0,i.value),h(e),i;break}}return i}function F(e,t){const{currentType:i}=t;let E=null;const k=e.currentChar();switch((i===8||i===9||i===12||i===10)&&(k===m||k===g)&&T(L.INVALID_LINKED_FORMAT,f(),0),k){case"@":return e.next(),E=A(t,8,"@"),t.inLinked=!0,E;case".":return h(e),e.next(),A(t,9,".");case":":return h(e),e.next(),A(t,10,":");default:return M(e)?(E=A(t,1,Q(e)),t.braceNest=0,t.inLinked=!1,E):c(e,t)||p(e,t)?(h(e),F(e,t)):o(e,t)?(h(e),A(t,12,Pe(e))):P(e,t)?(h(e),k==="{"?q(e,t)||E:A(t,11,Oe(e))):(i===8&&T(L.INVALID_LINKED_FORMAT,f(),0),t.braceNest=0,t.inLinked=!1,j(e,t))}}function j(e,t){let i={type:14};if(t.braceNest>0)return q(e,t)||R(t);if(t.inLinked)return F(e,t)||R(t);switch(e.currentChar()){case"{":return q(e,t)||R(t);case"}":return T(L.UNBALANCED_CLOSING_BRACE,f(),0),e.next(),A(t,3,"}");case"@":return F(e,t)||R(t);default:{if(M(e))return i=A(t,1,Q(e)),t.braceNest=0,t.inLinked=!1,i;const{isModulo:k,hasSpace:S}=W(e);if(k)return S?A(t,0,z(e)):A(t,4,pe(e));if(O(e))return A(t,0,z(e));break}}return i}function De(){const{currentType:e,offset:t,startLoc:i,endLoc:E}=I;return I.lastType=e,I.lastOffset=t,I.lastStartLoc=i,I.lastEndLoc=E,I.offset=N(),I.startLoc=f(),l.currentChar()===H?A(I,14):j(l,I)}return{nextToken:De,currentOffset:N,currentPosition:f,context:U}}const xe="parser",$e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ge(r,n,u){switch(r){case"\\\\":return"\\";case"\\'":return"'";default:{const l=parseInt(n||u,16);return l<=55295||l>=57344?String.fromCodePoint(l):"�"}}}function Fe(r={}){const n=r.location!==!1,{onError:u,onWarn:l}=r;function N(s,a,d,c,...o){const p=s.currentPosition();if(p.offset+=c,p.column+=c,u){const P=n?B(d,p):null,M=V(a,P,{domain:xe,args:o});u(M)}}function f(s,a,d,c,...o){const p=s.currentPosition();if(p.offset+=c,p.column+=c,l){const P=n?B(d,p):null;l(Re(a,P,o))}}function C(s,a,d){const c={type:s};return n&&(c.start=a,c.end=a,c.loc={start:d,end:d}),c}function _(s,a,d,c){n&&(s.end=a,s.loc&&(s.loc.end=d))}function I(s,a){const d=s.context(),c=C(3,d.offset,d.startLoc);return c.value=a,_(c,s.currentOffset(),s.currentPosition()),c}function U(s,a){const d=s.context(),{lastOffset:c,lastStartLoc:o}=d,p=C(5,c,o);return p.index=parseInt(a,10),s.nextToken(),_(p,s.currentOffset(),s.currentPosition()),p}function y(s,a,d){const c=s.context(),{lastOffset:o,lastStartLoc:p}=c,P=C(4,o,p);return P.key=a,d===!0&&(P.modulo=!0),s.nextToken(),_(P,s.currentOffset(),s.currentPosition()),P}function T(s,a){const d=s.context(),{lastOffset:c,lastStartLoc:o}=d,p=C(9,c,o);return p.value=a.replace($e,Ge),s.nextToken(),_(p,s.currentOffset(),s.currentPosition()),p}function A(s){const a=s.nextToken(),d=s.context(),{lastOffset:c,lastStartLoc:o}=d,p=C(8,c,o);return a.type!==12?(N(s,L.UNEXPECTED_EMPTY_LINKED_MODIFIER,d.lastStartLoc,0),p.value="",_(p,c,o),{nextConsumeToken:a,node:p}):(a.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,d.lastStartLoc,0,v(a)),p.value=a.value||"",_(p,s.currentOffset(),s.currentPosition()),{node:p})}function R(s,a){const d=s.context(),c=C(7,d.offset,d.startLoc);return c.value=a,_(c,s.currentOffset(),s.currentPosition()),c}function X(s){const a=s.context(),d=C(6,a.offset,a.startLoc);let c=s.nextToken();if(c.type===9){const o=A(s);d.modifier=o.node,c=o.nextConsumeToken||s.nextToken()}switch(c.type!==10&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(c)),c=s.nextToken(),c.type===2&&(c=s.nextToken()),c.type){case 11:c.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(c)),d.key=R(s,c.value||"");break;case 5:c.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(c)),d.key=y(s,c.value||"");break;case 6:c.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(c)),d.key=U(s,c.value||"");break;case 7:c.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(c)),d.key=T(s,c.value||"");break;default:{N(s,L.UNEXPECTED_EMPTY_LINKED_KEY,a.lastStartLoc,0);const o=s.context(),p=C(7,o.offset,o.startLoc);return p.value="",_(p,o.offset,o.startLoc),d.key=p,_(d,o.offset,o.startLoc),{nextConsumeToken:c,node:d}}}return _(d,s.currentOffset(),s.currentPosition()),{node:d}}function D(s){const a=s.context(),d=a.currentType===1?s.currentOffset():a.offset,c=a.currentType===1?a.endLoc:a.startLoc,o=C(2,d,c);o.items=[];let p=null,P=null;do{const O=p||s.nextToken();switch(p=null,O.type){case 0:O.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(O)),o.items.push(I(s,O.value||""));break;case 6:O.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(O)),o.items.push(U(s,O.value||""));break;case 4:P=!0;break;case 5:O.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(O)),o.items.push(y(s,O.value||"",!!P)),P&&(f(s,ae.USE_MODULO_SYNTAX,a.lastStartLoc,0,v(O)),P=null);break;case 7:O.value==null&&N(s,L.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,v(O)),o.items.push(T(s,O.value||""));break;case 8:{const Y=X(s);o.items.push(Y.node),p=Y.nextConsumeToken||null;break}}}while(a.currentType!==14&&a.currentType!==1);const M=a.currentType===1?a.lastOffset:s.currentOffset(),W=a.currentType===1?a.lastEndLoc:s.currentPosition();return _(o,M,W),o}function h(s,a,d,c){const o=s.context();let p=c.items.length===0;const P=C(1,a,d);P.cases=[],P.cases.push(c);do{const M=D(s);p||(p=M.items.length===0),P.cases.push(M)}while(o.currentType!==14);return p&&N(s,L.MUST_HAVE_MESSAGES_IN_PLURAL,d,0),_(P,s.currentOffset(),s.currentPosition()),P}function b(s){const a=s.context(),{offset:d,startLoc:c}=a,o=D(s);return a.currentType===14?o:h(s,d,c,o)}function w(s){const a=He(s,ue({},r)),d=a.context(),c=C(0,d.offset,d.startLoc);return n&&c.loc&&(c.loc.source=s),c.body=b(a),r.onCacheKey&&(c.cacheKey=r.onCacheKey(s)),d.currentType!==14&&N(a,L.UNEXPECTED_LEXICAL_ANALYSIS,d.lastStartLoc,0,s[d.offset]||""),_(c,a.currentOffset(),a.currentPosition()),c}return{parse:w}}function v(r){if(r.type===14)return"EOF";const n=(r.value||"").replace(/\r?\n/gu,"\\n");return n.length>10?n.slice(0,9)+"…":n}function Be(r,n={}){const u={ast:r,helpers:new Set};return{context:()=>u,helper:f=>(u.helpers.add(f),f)}}function re(r,n){for(let u=0;u<r.length;u++)J(r[u],n)}function J(r,n){switch(r.type){case 1:re(r.cases,n),n.helper("plural");break;case 2:re(r.items,n);break;case 6:{J(r.key,n),n.helper("linked"),n.helper("type");break}case 5:n.helper("interpolate"),n.helper("list");break;case 4:n.helper("interpolate"),n.helper("named");break}}function Ve(r,n={}){const u=Be(r);u.helper("normalize"),r.body&&J(r.body,u);const l=u.context();r.helpers=Array.from(l.helpers)}function We(r){const n=r.body;return n.type===2?ie(n):n.cases.forEach(u=>ie(u)),r}function ie(r){if(r.items.length===1){const n=r.items[0];(n.type===3||n.type===9)&&(r.static=n.value,delete n.value)}else{const n=[];for(let u=0;u<r.items.length;u++){const l=r.items[u];if(!(l.type===3||l.type===9)||l.value==null)break;n.push(l.value)}if(n.length===r.items.length){r.static=ce(n);for(let u=0;u<r.items.length;u++){const l=r.items[u];(l.type===3||l.type===9)&&delete l.value}}}}const Qe="minifier";function $(r){switch(r.t=r.type,r.type){case 0:{const n=r;$(n.body),n.b=n.body,delete n.body;break}case 1:{const n=r,u=n.cases;for(let l=0;l<u.length;l++)$(u[l]);n.c=u,delete n.cases;break}case 2:{const n=r,u=n.items;for(let l=0;l<u.length;l++)$(u[l]);n.i=u,delete n.items,n.static&&(n.s=n.static,delete n.static);break}case 3:case 9:case 8:case 7:{const n=r;n.value&&(n.v=n.value,delete n.value);break}case 6:{const n=r;$(n.key),n.k=n.key,delete n.key,n.modifier&&($(n.modifier),n.m=n.modifier,delete n.modifier);break}case 5:{const n=r;n.i=n.index,delete n.index;break}case 4:{const n=r;n.k=n.key,delete n.key;break}default:throw V(L.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Qe,args:[r.type]})}delete r.type}const qe="parser";function je(r,n){const{sourceMap:u,filename:l,breakLineCode:N,needIndent:f}=n,C=n.location!==!1,_={filename:l,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:N,needIndent:f,indentLevel:0};C&&r.loc&&(_.source=r.loc.source);const I=()=>_;function U(h,b){_.code+=h}function y(h,b=!0){const w=b?N:"";U(f?w+"  ".repeat(h):w)}function T(h=!0){const b=++_.indentLevel;h&&y(b)}function A(h=!0){const b=--_.indentLevel;h&&y(b)}function R(){y(_.indentLevel)}return{context:I,push:U,indent:T,deindent:A,newline:R,helper:h=>`_${h}`,needIndent:()=>_.needIndent}}function Je(r,n){const{helper:u}=r;r.push(`${u("linked")}(`),G(r,n.key),n.modifier?(r.push(", "),G(r,n.modifier),r.push(", _type")):r.push(", undefined, _type"),r.push(")")}function Ze(r,n){const{helper:u,needIndent:l}=r;r.push(`${u("normalize")}([`),r.indent(l());const N=n.items.length;for(let f=0;f<N&&(G(r,n.items[f]),f!==N-1);f++)r.push(", ");r.deindent(l()),r.push("])")}function ze(r,n){const{helper:u,needIndent:l}=r;if(n.cases.length>1){r.push(`${u("plural")}([`),r.indent(l());const N=n.cases.length;for(let f=0;f<N&&(G(r,n.cases[f]),f!==N-1);f++)r.push(", ");r.deindent(l()),r.push("])")}}function et(r,n){n.body?G(r,n.body):r.push("null")}function G(r,n){const{helper:u}=r;switch(n.type){case 0:et(r,n);break;case 1:ze(r,n);break;case 2:Ze(r,n);break;case 6:Je(r,n);break;case 8:r.push(JSON.stringify(n.value),n);break;case 7:r.push(JSON.stringify(n.value),n);break;case 5:r.push(`${u("interpolate")}(${u("list")}(${n.index}))`,n);break;case 4:r.push(`${u("interpolate")}(${u("named")}(${JSON.stringify(n.key)}))`,n);break;case 9:r.push(JSON.stringify(n.value),n);break;case 3:r.push(JSON.stringify(n.value),n);break;default:throw V(L.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:qe,args:[n.type]})}}const tt=(r,n={})=>{const u=te(n.mode)?n.mode:"normal",l=te(n.filename)?n.filename:"message.intl",N=!!n.sourceMap,f=n.breakLineCode!=null?n.breakLineCode:u==="arrow"?";":`
`,C=n.needIndent?n.needIndent:u!=="arrow",_=r.helpers||[],I=je(r,{mode:u,filename:l,sourceMap:N,breakLineCode:f,needIndent:C});I.push(u==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),I.indent(C),_.length>0&&(I.push(`const { ${ce(_.map(T=>`${T}: _${T}`),", ")} } = ctx`),I.newline()),I.push("return "),G(I,r),I.deindent(C),I.push("}"),delete r.helpers;const{code:U,map:y}=I.context();return{ast:r,code:U,map:y?y.toJSON():void 0}};function rt(r,n={}){const u=ue({},n),l=!!u.jit,N=!!u.minify,f=u.optimize==null?!0:u.optimize,_=Fe(u).parse(r);return l?(f&&We(_),N&&$(_),{ast:_,code:""}):(Ve(_,u),tt(_,u))}export{ae as C,L as a,rt as b,V as c,nt as d};
