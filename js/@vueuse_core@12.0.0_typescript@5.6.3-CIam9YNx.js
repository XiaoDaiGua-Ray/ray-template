import{t as M,w as Q,a as V,i as Y,n as I,b as G,c as U,d as $,e as D,f as X}from"./@vueuse_shared@12.0.0_typescript@5.6.3-CxG_ESII.js";import{s as Z,k as A}from"./@vue_reactivity@3.5.13-BUI-9P27.js";import{n as ee,w as L,f as k,j as te,k as ne,d as re}from"./@vue_runtime-core@3.5.13-Mn4UDPFA.js";const T=Y?window:void 0;function O(e){var n;const r=M(e);return(n=r==null?void 0:r.$el)!=null?n:r}function _(...e){let n,r,s,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,s,i]=e,n=T):[n,r,s,i]=e,!n)return I;Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]);const l=[],m=()=>{l.forEach(d=>d()),l.length=0},c=(d,a,f,w)=>(d.addEventListener(a,f,w),()=>d.removeEventListener(a,f,w)),h=L(()=>[O(n),M(i)],([d,a])=>{if(m(),!d)return;const f=U(a)?{...a}:a;l.push(...r.flatMap(w=>s.map(g=>c(d,w,g,f))))},{immediate:!0,flush:"post"}),p=()=>{h(),m()};return D(p),p}let B=!1;function we(e,n,r={}){const{window:s=T,ignore:i=[],capture:l=!0,detectIframe:m=!1}=r;if(!s)return I;X&&!B&&(B=!0,Array.from(s.document.body.children).forEach(t=>t.addEventListener("click",I)),s.document.documentElement.addEventListener("click",I));let c=!0;const h=t=>M(i).some(o=>{if(typeof o=="string")return Array.from(s.document.querySelectorAll(o)).some(v=>v===t.target||t.composedPath().includes(v));{const v=O(o);return v&&(t.target===v||t.composedPath().includes(v))}});function p(t){const o=M(t);return o&&o.$.subTree.shapeFlag===16}function d(t,o){const v=M(t),y=v.$.subTree&&v.$.subTree.children;return y==null||!Array.isArray(y)?!1:y.some(z=>z.el===o.target||o.composedPath().includes(z.el))}const a=t=>{const o=O(e);if(t.target!=null&&!(!(o instanceof Element)&&p(e)&&d(e,t))&&!(!o||o===t.target||t.composedPath().includes(o))){if(t.detail===0&&(c=!h(t)),!c){c=!0;return}n(t)}};let f=!1;const w=[_(s,"click",t=>{f||(f=!0,setTimeout(()=>{f=!1},0),a(t))},{passive:!0,capture:l}),_(s,"pointerdown",t=>{const o=O(e);c=!h(t)&&!!(o&&!t.composedPath().includes(o))},{passive:!0}),m&&_(s,"blur",t=>{setTimeout(()=>{var o;const v=O(e);((o=s.document.activeElement)==null?void 0:o.tagName)==="IFRAME"&&!(v!=null&&v.contains(s.document.activeElement))&&n(t)},0)})].filter(Boolean);return()=>w.forEach(t=>t())}function oe(){const e=A(!1),n=re();return n&&ne(()=>{e.value=!0},n),e}function x(e){const n=oe();return k(()=>(n.value,!!e()))}function se(e,n,r={}){const{window:s=T,...i}=r;let l;const m=x(()=>s&&"MutationObserver"in s),c=()=>{l&&(l.disconnect(),l=void 0)},h=k(()=>{const f=M(e),w=(Array.isArray(f)?f:[f]).map(O).filter($);return new Set(w)}),p=L(()=>h.value,f=>{c(),m.value&&f.size&&(l=new MutationObserver(n),f.forEach(w=>l.observe(w,i)))},{immediate:!0,flush:"post"}),d=()=>l==null?void 0:l.takeRecords(),a=()=>{p(),c()};return D(a),{isSupported:m,stop:a,takeRecords:d}}function q(e,n={}){const{window:r=T}=n,s=x(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const l=A(!1),m=p=>{l.value=p.matches},c=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",m):i.removeListener(m))},h=te(()=>{s.value&&(c(),i=r.matchMedia(M(e)),"addEventListener"in i?i.addEventListener("change",m):i.addListener(m),l.value=i.matches)});return D(()=>{h(),c(),i=void 0}),l}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H="__vueuse_ssr_handlers__",ie=ae();function ae(){return H in j||(j[H]=j[H]||{}),j[H]}function K(e,n){return ie[e]||n}function ue(e){return q("(prefers-color-scheme: dark)",e)}function le(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ce={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function de(e,n,r,s={}){var i;const{flush:l="pre",deep:m=!0,listenToStorageChanges:c=!0,writeDefaults:h=!0,mergeDefaults:p=!1,shallow:d,window:a=T,eventFilter:f,onError:w=u=>{console.error(u)},initOnMounted:g}=s,t=(d?Z:A)(typeof n=="function"?n():n);if(!r)try{r=K("getDefaultStorage",()=>{var u;return(u=T)==null?void 0:u.localStorage})()}catch(u){w(u)}if(!r)return t;const o=M(n),v=le(o),y=(i=s.serializer)!=null?i:ce[v],{pause:z,resume:E}=Q(t,()=>F(t.value),{flush:l,deep:m,eventFilter:f});a&&c&&V(()=>{r instanceof Storage?_(a,"storage",N):_(a,J,W),g&&N()}),g||N();function C(u,b){if(a){const S={key:e,oldValue:u,newValue:b,storageArea:r};a.dispatchEvent(r instanceof Storage?new StorageEvent("storage",S):new CustomEvent(J,{detail:S}))}}function F(u){try{const b=r.getItem(e);if(u==null)C(b,null),r.removeItem(e);else{const S=y.write(u);b!==S&&(r.setItem(e,S),C(b,S))}}catch(b){w(b)}}function R(u){const b=u?u.newValue:r.getItem(e);if(b==null)return h&&o!=null&&r.setItem(e,y.write(o)),o;if(!u&&p){const S=y.read(b);return typeof p=="function"?p(S,o):v==="object"&&!Array.isArray(S)?{...o,...S}:S}else return typeof b!="string"?b:y.read(b)}function N(u){if(!(u&&u.storageArea!==r)){if(u&&u.key==null){t.value=o;return}if(!(u&&u.key!==e)){z();try{(u==null?void 0:u.newValue)!==y.write(t.value)&&(t.value=R(u))}catch(b){w(b)}finally{u?ee(E):E()}}}}function W(u){N(u.detail)}return t}const fe="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ge(e={}){const{selector:n="html",attribute:r="class",initialValue:s="auto",window:i=T,storage:l,storageKey:m="vueuse-color-scheme",listenToStorageChanges:c=!0,storageRef:h,emitAuto:p,disableTransition:d=!0}=e,a={auto:"",light:"light",dark:"dark",...e.modes||{}},f=ue({window:i}),w=k(()=>f.value?"dark":"light"),g=h||(m==null?G(s):de(m,s,l,{window:i,listenToStorageChanges:c})),t=k(()=>g.value==="auto"?w.value:g.value),o=K("updateHTMLAttrs",(E,C,F)=>{const R=typeof E=="string"?i==null?void 0:i.document.querySelector(E):O(E);if(!R)return;const N=new Set,W=new Set;let u=null;if(C==="class"){const S=F.split(/\s/g);Object.values(a).flatMap(P=>(P||"").split(/\s/g)).filter(Boolean).forEach(P=>{S.includes(P)?N.add(P):W.add(P)})}else u={key:C,value:F};if(N.size===0&&W.size===0&&u===null)return;let b;d&&(b=i.document.createElement("style"),b.appendChild(document.createTextNode(fe)),i.document.head.appendChild(b));for(const S of N)R.classList.add(S);for(const S of W)R.classList.remove(S);u&&R.setAttribute(u.key,u.value),d&&(i.getComputedStyle(b).opacity,document.head.removeChild(b))});function v(E){var C;o(n,r,(C=a[E])!=null?C:E)}function y(E){e.onChanged?e.onChanged(E,v):v(E)}L(t,y,{flush:"post",immediate:!0}),V(()=>y(t.value));const z=k({get(){return p?g.value:t.value},set(E){g.value=E}});return Object.assign(z,{store:g,system:w,state:t})}function me(e,n,r={}){const{window:s=T,...i}=r;let l;const m=x(()=>s&&"ResizeObserver"in s),c=()=>{l&&(l.disconnect(),l=void 0)},h=k(()=>{const a=M(e);return Array.isArray(a)?a.map(f=>O(f)):[O(a)]}),p=L(h,a=>{if(c(),m.value&&s){l=new ResizeObserver(n);for(const f of a)f&&l.observe(f,i)}},{immediate:!0,flush:"post"}),d=()=>{c(),p()};return D(d),{isSupported:m,stop:d}}function ye(e,n={}){const{reset:r=!0,windowResize:s=!0,windowScroll:i=!0,immediate:l=!0,updateTiming:m="sync"}=n,c=A(0),h=A(0),p=A(0),d=A(0),a=A(0),f=A(0),w=A(0),g=A(0);function t(){const v=O(e);if(!v){r&&(c.value=0,h.value=0,p.value=0,d.value=0,a.value=0,f.value=0,w.value=0,g.value=0);return}const y=v.getBoundingClientRect();c.value=y.height,h.value=y.bottom,p.value=y.left,d.value=y.right,a.value=y.top,f.value=y.width,w.value=y.x,g.value=y.y}function o(){m==="sync"?t():m==="next-frame"&&requestAnimationFrame(()=>t())}return me(e,o),L(()=>O(e),v=>!v&&o()),se(e,o,{attributeFilter:["style","class"]}),i&&_("scroll",o,{capture:!0,passive:!0}),s&&_("resize",o,{passive:!0}),V(()=>{l&&o()}),{height:c,bottom:h,left:p,right:d,top:a,width:f,x:w,y:g,update:o}}function be(e,n,r={}){const{root:s,rootMargin:i="0px",threshold:l=0,window:m=T,immediate:c=!0}=r,h=x(()=>m&&"IntersectionObserver"in m),p=k(()=>{const g=M(e);return(Array.isArray(g)?g:[g]).map(O).filter($)});let d=I;const a=A(c),f=h.value?L(()=>[p.value,O(s),a.value],([g,t])=>{if(d(),!a.value||!g.length)return;const o=new IntersectionObserver(n,{root:O(t),rootMargin:i,threshold:l});g.forEach(v=>v&&o.observe(v)),d=()=>{o.disconnect(),d=I}},{immediate:c,flush:"post"}):I,w=()=>{d(),f(),a.value=!1};return D(w),{isSupported:h,isActive:a,pause(){d(),a.value=!1},resume(){a.value=!0},stop:w}}function Se(e={}){const{window:n=T,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:l=!0,type:m="inner"}=e,c=A(r),h=A(s),p=()=>{n&&(m==="outer"?(c.value=n.outerWidth,h.value=n.outerHeight):l?(c.value=n.innerWidth,h.value=n.innerHeight):(c.value=n.document.documentElement.clientWidth,h.value=n.document.documentElement.clientHeight))};if(p(),V(p),_("resize",p,{passive:!0}),i){const d=q("(orientation: portrait)");L(d,()=>p())}return{width:c,height:h}}export{be as a,me as b,ge as c,de as d,ye as e,Se as f,we as o,_ as u};
