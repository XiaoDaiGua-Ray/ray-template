import{w as G,t as H,i as U,n as L,a as F,b as j,p as J,c as Q,d as X,e as Z,f as ee,g as te}from"./@vueuse_shared@12.4.0_typescript@5.6.3-AIvkuZ7s.js";import{s as ne,k as E,l as M}from"./@vue_reactivity@3.5.13-Bs-wdPxR.js";import{f as W,w as _,n as se,j as oe,k as re,l as ie,g as ae}from"./@vue_runtime-core@3.5.13-Moo8VrGQ.js";const T=U?window:void 0;function O(e){var s;const r=M(e);return(s=r==null?void 0:r.$el)!=null?s:r}function N(...e){let s,r,i,v;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,i,v]=e,s=T):[s,r,i,v]=e,!s)return L;r=F(r),i=F(i);const f=[],a=()=>{f.forEach(l=>l()),f.length=0},u=(l,o,c,w)=>(l.addEventListener(o,c,w),()=>l.removeEventListener(o,c,w)),m=_(()=>[O(s),M(v)],([l,o])=>{if(a(),!l)return;const c=te(o)?{...o}:o;f.push(...r.flatMap(w=>i.map(g=>u(l,w,g,c))))},{immediate:!0,flush:"post"}),h=()=>{m(),a()};return j(h),h}let $=!1;function Oe(e,s,r={}){const{window:i=T,ignore:v=[],capture:f=!0,detectIframe:a=!1}=r;if(!i)return L;Z&&!$&&($=!0,Array.from(i.document.body.children).forEach(t=>t.addEventListener("click",L)),i.document.documentElement.addEventListener("click",L));let u=!0;const m=t=>M(v).some(n=>{if(typeof n=="string")return Array.from(i.document.querySelectorAll(n)).some(p=>p===t.target||t.composedPath().includes(p));{const p=O(n);return p&&(t.target===p||t.composedPath().includes(p))}});function h(t){const n=M(t);return n&&n.$.subTree.shapeFlag===16}function l(t,n){const p=M(t),b=p.$.subTree&&p.$.subTree.children;return b==null||!Array.isArray(b)?!1:b.some(k=>k.el===n.target||n.composedPath().includes(k.el))}const o=t=>{const n=O(e);if(t.target!=null&&!(!(n instanceof Element)&&h(e)&&l(e,t))&&!(!n||n===t.target||t.composedPath().includes(n))){if(t.detail===0&&(u=!m(t)),!u){u=!0;return}s(t)}};let c=!1;const w=[N(i,"click",t=>{c||(c=!0,setTimeout(()=>{c=!1},0),o(t))},{passive:!0,capture:f}),N(i,"pointerdown",t=>{const n=O(e);u=!m(t)&&!!(n&&!t.composedPath().includes(n))},{passive:!0}),a&&N(i,"blur",t=>{setTimeout(()=>{var n;const p=O(e);((n=i.document.activeElement)==null?void 0:n.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&s(t)},0)},{passive:!0})].filter(Boolean);return()=>w.forEach(t=>t())}function ue(){const e=E(!1),s=ae();return s&&ie(()=>{e.value=!0},s),e}function B(e){const s=ue();return W(()=>(s.value,!!e()))}function le(e,s,r={}){const{window:i=T,...v}=r;let f;const a=B(()=>i&&"MutationObserver"in i),u=()=>{f&&(f.disconnect(),f=void 0)},m=W(()=>{const c=M(e),w=F(c).map(O).filter(Q);return new Set(w)}),h=_(()=>m.value,c=>{u(),a.value&&c.size&&(f=new MutationObserver(s),c.forEach(w=>f.observe(w,v)))},{immediate:!0,flush:"post"}),l=()=>f==null?void 0:f.takeRecords(),o=()=>{h(),u()};return j(o),{isSupported:a,stop:o,takeRecords:l}}const ce=Symbol("vueuse-ssr-width");function de(){const e=re()?ee(ce,null):null;return typeof e=="number"?e:void 0}function Y(e,s={}){const{window:r=T,ssrWidth:i=de()}=s,v=B(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),f=E(typeof i=="number");let a;const u=E(!1),m=o=>{u.value=o.matches},h=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",m):a.removeListener(m))},l=oe(()=>{if(f.value){f.value=!v.value;const o=M(e).split(",");u.value=o.some(c=>{const w=c.includes("not all"),g=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),t=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let n=!!(g||t);return g&&n&&(n=i>=J(g[1])),t&&n&&(n=i<=J(t[1])),w?!n:n});return}v.value&&(h(),a=r.matchMedia(M(e)),"addEventListener"in a?a.addEventListener("change",m):a.addListener(m),u.value=a.matches)});return j(()=>{l(),h(),a=void 0}),W(()=>u.value)}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="__vueuse_ssr_handlers__",fe=pe();function pe(){return D in P||(P[D]=P[D]||{}),P[D]}function q(e,s){return fe[e]||s}function me(e){return Y("(prefers-color-scheme: dark)",e)}function ve(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const he={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},K="vueuse-storage";function we(e,s,r,i={}){var v;const{flush:f="pre",deep:a=!0,listenToStorageChanges:u=!0,writeDefaults:m=!0,mergeDefaults:h=!1,shallow:l,window:o=T,eventFilter:c,onError:w=d=>{console.error(d)},initOnMounted:g}=i,t=(l?ne:E)(typeof s=="function"?s():s),n=W(()=>M(e));if(!r)try{r=q("getDefaultStorage",()=>{var d;return(d=T)==null?void 0:d.localStorage})()}catch(d){w(d)}if(!r)return t;const p=M(s),b=ve(p),k=(v=i.serializer)!=null?v:he[b],{pause:A,resume:I}=G(t,()=>R(t.value),{flush:f,deep:a,eventFilter:c});_(n,()=>C(),{flush:f}),o&&u&&H(()=>{r instanceof Storage?N(o,"storage",C,{passive:!0}):N(o,K,z),g&&C()}),g||C();function V(d,y){if(o){const S={key:n.value,oldValue:d,newValue:y,storageArea:r};o.dispatchEvent(r instanceof Storage?new StorageEvent("storage",S):new CustomEvent(K,{detail:S}))}}function R(d){try{const y=r.getItem(n.value);if(d==null)V(y,null),r.removeItem(n.value);else{const S=k.write(d);y!==S&&(r.setItem(n.value,S),V(y,S))}}catch(y){w(y)}}function x(d){const y=d?d.newValue:r.getItem(n.value);if(y==null)return m&&p!=null&&r.setItem(n.value,k.write(p)),p;if(!d&&h){const S=k.read(y);return typeof h=="function"?h(S,p):b==="object"&&!Array.isArray(S)?{...p,...S}:S}else return typeof y!="string"?y:k.read(y)}function C(d){if(!(d&&d.storageArea!==r)){if(d&&d.key==null){t.value=p;return}if(!(d&&d.key!==n.value)){A();try{(d==null?void 0:d.newValue)!==k.write(t.value)&&(t.value=x(d))}catch(y){w(y)}finally{d?se(I):I()}}}}function z(d){C(d.detail)}return t}const ge="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Ae(e={}){const{selector:s="html",attribute:r="class",initialValue:i="auto",window:v=T,storage:f,storageKey:a="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:m,emitAuto:h,disableTransition:l=!0}=e,o={auto:"",light:"light",dark:"dark",...e.modes||{}},c=me({window:v}),w=W(()=>c.value?"dark":"light"),g=m||(a==null?X(i):we(a,i,f,{window:v,listenToStorageChanges:u})),t=W(()=>g.value==="auto"?w.value:g.value),n=q("updateHTMLAttrs",(A,I,V)=>{const R=typeof A=="string"?v==null?void 0:v.document.querySelector(A):O(A);if(!R)return;const x=new Set,C=new Set;let z=null;if(I==="class"){const y=V.split(/\s/g);Object.values(o).flatMap(S=>(S||"").split(/\s/g)).filter(Boolean).forEach(S=>{y.includes(S)?x.add(S):C.add(S)})}else z={key:I,value:V};if(x.size===0&&C.size===0&&z===null)return;let d;l&&(d=v.document.createElement("style"),d.appendChild(document.createTextNode(ge)),v.document.head.appendChild(d));for(const y of x)R.classList.add(y);for(const y of C)R.classList.remove(y);z&&R.setAttribute(z.key,z.value),l&&(v.getComputedStyle(d).opacity,document.head.removeChild(d))});function p(A){var I;n(s,r,(I=o[A])!=null?I:A)}function b(A){e.onChanged?e.onChanged(A,p):p(A)}_(t,b,{flush:"post",immediate:!0}),H(()=>b(t.value));const k=W({get(){return h?g.value:t.value},set(A){g.value=A}});return Object.assign(k,{store:g,system:w,state:t})}function ye(e,s,r={}){const{window:i=T,...v}=r;let f;const a=B(()=>i&&"ResizeObserver"in i),u=()=>{f&&(f.disconnect(),f=void 0)},m=W(()=>{const o=M(e);return Array.isArray(o)?o.map(c=>O(c)):[O(o)]}),h=_(m,o=>{if(u(),a.value&&i){f=new ResizeObserver(s);for(const c of o)c&&f.observe(c,v)}},{immediate:!0,flush:"post"}),l=()=>{u(),h()};return j(l),{isSupported:a,stop:l}}function Me(e,s={}){const{reset:r=!0,windowResize:i=!0,windowScroll:v=!0,immediate:f=!0,updateTiming:a="sync"}=s,u=E(0),m=E(0),h=E(0),l=E(0),o=E(0),c=E(0),w=E(0),g=E(0);function t(){const p=O(e);if(!p){r&&(u.value=0,m.value=0,h.value=0,l.value=0,o.value=0,c.value=0,w.value=0,g.value=0);return}const b=p.getBoundingClientRect();u.value=b.height,m.value=b.bottom,h.value=b.left,l.value=b.right,o.value=b.top,c.value=b.width,w.value=b.x,g.value=b.y}function n(){a==="sync"?t():a==="next-frame"&&requestAnimationFrame(()=>t())}return ye(e,n),_(()=>O(e),p=>!p&&n()),le(e,n,{attributeFilter:["style","class"]}),v&&N("scroll",n,{capture:!0,passive:!0}),i&&N("resize",n,{passive:!0}),H(()=>{f&&n()}),{height:u,bottom:m,left:h,right:l,top:o,width:c,x:w,y:g,update:n}}function ke(e,s,r={}){const{root:i,rootMargin:v="0px",threshold:f=0,window:a=T,immediate:u=!0}=r,m=B(()=>a&&"IntersectionObserver"in a),h=W(()=>{const g=M(e);return F(g).map(O).filter(Q)});let l=L;const o=E(u),c=m.value?_(()=>[h.value,O(i),o.value],([g,t])=>{if(l(),!o.value||!g.length)return;const n=new IntersectionObserver(s,{root:O(t),rootMargin:v,threshold:f});g.forEach(p=>p&&n.observe(p)),l=()=>{n.disconnect(),l=L}},{immediate:u,flush:"post"}):L,w=()=>{l(),c(),o.value=!1};return j(w),{isSupported:m,isActive:o,pause(){l(),o.value=!1},resume(){o.value=!0},stop:w}}function Te(e={}){const{window:s=T,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:v=!0,includeScrollbar:f=!0,type:a="inner"}=e,u=E(r),m=E(i),h=()=>{if(s)if(a==="outer")u.value=s.outerWidth,m.value=s.outerHeight;else if(a==="visual"&&s.visualViewport){const{width:o,height:c,scale:w}=s.visualViewport;u.value=Math.round(o*w),m.value=Math.round(c*w)}else f?(u.value=s.innerWidth,m.value=s.innerHeight):(u.value=s.document.documentElement.clientWidth,m.value=s.document.documentElement.clientHeight)};h(),H(h);const l={passive:!0};if(N("resize",h,l),s&&a==="visual"&&s.visualViewport&&N(s.visualViewport,"resize",h,l),v){const o=Y("(orientation: portrait)");_(o,()=>h())}return{width:u,height:m}}export{ke as a,ye as b,Ae as c,we as d,Me as e,Te as f,Oe as o,N as u};
