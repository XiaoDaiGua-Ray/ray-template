import{w as G,t as H,i as U,n as L,a as X,b as F,c as Z,p as J,d as Q,e as ee,f as j,g as te}from"./@vueuse_shared@12.4.0_typescript@5.6.3-BcXCAzGo.js";import{s as ne,k as E,l as M}from"./@vue_reactivity@3.5.13-CVvlldVq.js";import{f as W,w as _,n as se,j as re,k as oe,l as ie,d as ae}from"./@vue_runtime-core@3.5.13-pPpmd6wL.js";const T=U?window:void 0;function O(e){var s;const o=M(e);return(s=o==null?void 0:o.$el)!=null?s:o}function N(...e){let s,o,i,h;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,i,h]=e,s=T):[s,o,i,h]=e,!s)return L;o=F(o),i=F(i);const f=[],a=()=>{f.forEach(l=>l()),f.length=0},u=(l,r,c,w)=>(l.addEventListener(r,c,w),()=>l.removeEventListener(r,c,w)),m=_(()=>[O(s),M(h)],([l,r])=>{if(a(),!l)return;const c=Z(r)?{...r}:r;f.push(...o.flatMap(w=>i.map(g=>u(l,w,g,c))))},{immediate:!0,flush:"post"}),v=()=>{m(),a()};return j(v),v}let $=!1;function Oe(e,s,o={}){const{window:i=T,ignore:h=[],capture:f=!0,detectIframe:a=!1}=o;if(!i)return L;te&&!$&&($=!0,Array.from(i.document.body.children).forEach(t=>t.addEventListener("click",L)),i.document.documentElement.addEventListener("click",L));let u=!0;const m=t=>M(h).some(n=>{if(typeof n=="string")return Array.from(i.document.querySelectorAll(n)).some(p=>p===t.target||t.composedPath().includes(p));{const p=O(n);return p&&(t.target===p||t.composedPath().includes(p))}});function v(t){const n=M(t);return n&&n.$.subTree.shapeFlag===16}function l(t,n){const p=M(t),b=p.$.subTree&&p.$.subTree.children;return b==null||!Array.isArray(b)?!1:b.some(k=>k.el===n.target||n.composedPath().includes(k.el))}const r=t=>{const n=O(e);if(t.target!=null&&!(!(n instanceof Element)&&v(e)&&l(e,t))&&!(!n||n===t.target||t.composedPath().includes(n))){if(t.detail===0&&(u=!m(t)),!u){u=!0;return}s(t)}};let c=!1;const w=[N(i,"click",t=>{c||(c=!0,setTimeout(()=>{c=!1},0),r(t))},{passive:!0,capture:f}),N(i,"pointerdown",t=>{const n=O(e);u=!m(t)&&!!(n&&!t.composedPath().includes(n))},{passive:!0}),a&&N(i,"blur",t=>{setTimeout(()=>{var n;const p=O(e);((n=i.document.activeElement)==null?void 0:n.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&s(t)},0)},{passive:!0})].filter(Boolean);return()=>w.forEach(t=>t())}function ue(){const e=E(!1),s=ae();return s&&ie(()=>{e.value=!0},s),e}function B(e){const s=ue();return W(()=>(s.value,!!e()))}function le(e,s,o={}){const{window:i=T,...h}=o;let f;const a=B(()=>i&&"MutationObserver"in i),u=()=>{f&&(f.disconnect(),f=void 0)},m=W(()=>{const c=M(e),w=F(c).map(O).filter(Q);return new Set(w)}),v=_(()=>m.value,c=>{u(),a.value&&c.size&&(f=new MutationObserver(s),c.forEach(w=>f.observe(w,h)))},{immediate:!0,flush:"post"}),l=()=>f==null?void 0:f.takeRecords(),r=()=>{v(),u()};return j(r),{isSupported:a,stop:r,takeRecords:l}}const ce=Symbol("vueuse-ssr-width");function de(){const e=oe()?ee(ce,null):null;return typeof e=="number"?e:void 0}function Y(e,s={}){const{window:o=T,ssrWidth:i=de()}=s,h=B(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function"),f=E(typeof i=="number");let a;const u=E(!1),m=r=>{u.value=r.matches},v=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",m):a.removeListener(m))},l=re(()=>{if(f.value){f.value=!h.value;const r=M(e).split(",");u.value=r.some(c=>{const w=c.includes("not all"),g=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),t=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let n=!!(g||t);return g&&n&&(n=i>=J(g[1])),t&&n&&(n=i<=J(t[1])),w?!n:n});return}h.value&&(v(),a=o.matchMedia(M(e)),"addEventListener"in a?a.addEventListener("change",m):a.addListener(m),u.value=a.matches)});return j(()=>{l(),v(),a=void 0}),W(()=>u.value)}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="__vueuse_ssr_handlers__",fe=pe();function pe(){return D in P||(P[D]=P[D]||{}),P[D]}function q(e,s){return fe[e]||s}function me(e){return Y("(prefers-color-scheme: dark)",e)}function he(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ve={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},K="vueuse-storage";function we(e,s,o,i={}){var h;const{flush:f="pre",deep:a=!0,listenToStorageChanges:u=!0,writeDefaults:m=!0,mergeDefaults:v=!1,shallow:l,window:r=T,eventFilter:c,onError:w=d=>{console.error(d)},initOnMounted:g}=i,t=(l?ne:E)(typeof s=="function"?s():s),n=W(()=>M(e));if(!o)try{o=q("getDefaultStorage",()=>{var d;return(d=T)==null?void 0:d.localStorage})()}catch(d){w(d)}if(!o)return t;const p=M(s),b=he(p),k=(h=i.serializer)!=null?h:ve[b],{pause:A,resume:I}=G(t,()=>R(t.value),{flush:f,deep:a,eventFilter:c});_(n,()=>C(),{flush:f}),r&&u&&H(()=>{o instanceof Storage?N(r,"storage",C,{passive:!0}):N(r,K,z),g&&C()}),g||C();function V(d,y){if(r){const S={key:n.value,oldValue:d,newValue:y,storageArea:o};r.dispatchEvent(o instanceof Storage?new StorageEvent("storage",S):new CustomEvent(K,{detail:S}))}}function R(d){try{const y=o.getItem(n.value);if(d==null)V(y,null),o.removeItem(n.value);else{const S=k.write(d);y!==S&&(o.setItem(n.value,S),V(y,S))}}catch(y){w(y)}}function x(d){const y=d?d.newValue:o.getItem(n.value);if(y==null)return m&&p!=null&&o.setItem(n.value,k.write(p)),p;if(!d&&v){const S=k.read(y);return typeof v=="function"?v(S,p):b==="object"&&!Array.isArray(S)?{...p,...S}:S}else return typeof y!="string"?y:k.read(y)}function C(d){if(!(d&&d.storageArea!==o)){if(d&&d.key==null){t.value=p;return}if(!(d&&d.key!==n.value)){A();try{(d==null?void 0:d.newValue)!==k.write(t.value)&&(t.value=x(d))}catch(y){w(y)}finally{d?se(I):I()}}}}function z(d){C(d.detail)}return t}const ge="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Ae(e={}){const{selector:s="html",attribute:o="class",initialValue:i="auto",window:h=T,storage:f,storageKey:a="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:m,emitAuto:v,disableTransition:l=!0}=e,r={auto:"",light:"light",dark:"dark",...e.modes||{}},c=me({window:h}),w=W(()=>c.value?"dark":"light"),g=m||(a==null?X(i):we(a,i,f,{window:h,listenToStorageChanges:u})),t=W(()=>g.value==="auto"?w.value:g.value),n=q("updateHTMLAttrs",(A,I,V)=>{const R=typeof A=="string"?h==null?void 0:h.document.querySelector(A):O(A);if(!R)return;const x=new Set,C=new Set;let z=null;if(I==="class"){const y=V.split(/\s/g);Object.values(r).flatMap(S=>(S||"").split(/\s/g)).filter(Boolean).forEach(S=>{y.includes(S)?x.add(S):C.add(S)})}else z={key:I,value:V};if(x.size===0&&C.size===0&&z===null)return;let d;l&&(d=h.document.createElement("style"),d.appendChild(document.createTextNode(ge)),h.document.head.appendChild(d));for(const y of x)R.classList.add(y);for(const y of C)R.classList.remove(y);z&&R.setAttribute(z.key,z.value),l&&(h.getComputedStyle(d).opacity,document.head.removeChild(d))});function p(A){var I;n(s,o,(I=r[A])!=null?I:A)}function b(A){e.onChanged?e.onChanged(A,p):p(A)}_(t,b,{flush:"post",immediate:!0}),H(()=>b(t.value));const k=W({get(){return v?g.value:t.value},set(A){g.value=A}});return Object.assign(k,{store:g,system:w,state:t})}function ye(e,s,o={}){const{window:i=T,...h}=o;let f;const a=B(()=>i&&"ResizeObserver"in i),u=()=>{f&&(f.disconnect(),f=void 0)},m=W(()=>{const r=M(e);return Array.isArray(r)?r.map(c=>O(c)):[O(r)]}),v=_(m,r=>{if(u(),a.value&&i){f=new ResizeObserver(s);for(const c of r)c&&f.observe(c,h)}},{immediate:!0,flush:"post"}),l=()=>{u(),v()};return j(l),{isSupported:a,stop:l}}function Me(e,s={}){const{reset:o=!0,windowResize:i=!0,windowScroll:h=!0,immediate:f=!0,updateTiming:a="sync"}=s,u=E(0),m=E(0),v=E(0),l=E(0),r=E(0),c=E(0),w=E(0),g=E(0);function t(){const p=O(e);if(!p){o&&(u.value=0,m.value=0,v.value=0,l.value=0,r.value=0,c.value=0,w.value=0,g.value=0);return}const b=p.getBoundingClientRect();u.value=b.height,m.value=b.bottom,v.value=b.left,l.value=b.right,r.value=b.top,c.value=b.width,w.value=b.x,g.value=b.y}function n(){a==="sync"?t():a==="next-frame"&&requestAnimationFrame(()=>t())}return ye(e,n),_(()=>O(e),p=>!p&&n()),le(e,n,{attributeFilter:["style","class"]}),h&&N("scroll",n,{capture:!0,passive:!0}),i&&N("resize",n,{passive:!0}),H(()=>{f&&n()}),{height:u,bottom:m,left:v,right:l,top:r,width:c,x:w,y:g,update:n}}function ke(e,s,o={}){const{root:i,rootMargin:h="0px",threshold:f=0,window:a=T,immediate:u=!0}=o,m=B(()=>a&&"IntersectionObserver"in a),v=W(()=>{const g=M(e);return F(g).map(O).filter(Q)});let l=L;const r=E(u),c=m.value?_(()=>[v.value,O(i),r.value],([g,t])=>{if(l(),!r.value||!g.length)return;const n=new IntersectionObserver(s,{root:O(t),rootMargin:h,threshold:f});g.forEach(p=>p&&n.observe(p)),l=()=>{n.disconnect(),l=L}},{immediate:u,flush:"post"}):L,w=()=>{l(),c(),r.value=!1};return j(w),{isSupported:m,isActive:r,pause(){l(),r.value=!1},resume(){r.value=!0},stop:w}}function Te(e={}){const{window:s=T,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:h=!0,includeScrollbar:f=!0,type:a="inner"}=e,u=E(o),m=E(i),v=()=>{if(s)if(a==="outer")u.value=s.outerWidth,m.value=s.outerHeight;else if(a==="visual"&&s.visualViewport){const{width:r,height:c,scale:w}=s.visualViewport;u.value=Math.round(r*w),m.value=Math.round(c*w)}else f?(u.value=s.innerWidth,m.value=s.innerHeight):(u.value=s.document.documentElement.clientWidth,m.value=s.document.documentElement.clientHeight)};v(),H(v);const l={passive:!0};if(N("resize",v,l),s&&a==="visual"&&s.visualViewport&&N(s.visualViewport,"resize",v,l),h){const r=Y("(orientation: portrait)");_(r,()=>v())}return{width:u,height:m}}export{ke as a,ye as b,Ae as c,we as d,Me as e,Te as f,Oe as o,N as u};
